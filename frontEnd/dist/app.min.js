const ajax=user=>new Promise((a,b)=>{const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(c.readyState==4){if(c.status==200){a(user.parse?JSON.parse(c.responseText):c.responseText)}else{b(c.status,c.statusText)}}};let d=null;if(user.data){let p=[];for(let f in user.data)p.push(f+"="+user.data[f]);user.type==="GET"?user.url+="?"+p.join("&"):d=p.join("&")}c.open(user.type,user.url,user.async===void 0||user.async);if(d)c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.send(d)});
((a,b)=>{b.init();a.init(clientView,httpService,personService,garageService);console.log("hola")})(controller,spa);
window.controller=function(){let a,b=function(h,i,j,k){a=this;a._bookingView=h;a._httpService=i;a._personService=j;a._garageService=k;c()},c=()=>{let h=a._httpService.init();a._personService.init(h);a._garageService.init(h);a._bookingView.init(a);d()},d=()=>{a._bookingView.fillSelectClients(a._personService.getAllClients());a._bookingView.fillSelectCars(a._garageService.getCars())},e=()=>{let h=a._bookingView.setCurrentValueSelectClient(),i=a._personService.getClient(h);a._bookingView.showDataClient(i)},f=()=>{let h=a._bookingView.setCurrentValueSelectCar(),i=a._garageService.getCar(h);a._bookingView.showDataCar(i)},g=()=>{if(!a._bookingView.checkInputsEmpty()){a._bookingView.showMessageIncorrect(FILL_FIELDS)}else{a._bookingView.addBooking()}};return{init:b,getSelectClient:e,getSelectCar:f,addBooking:g}}();
window.view=(a=>{let b=a.getElementById("inputDateStart"),c=a.getElementById("inputDateEnd"),d=a.getElementById("inputNumberPlate"),e=a.getElementById("inputGasoline"),f=a.getElementById("inputDelivered"),g=a.getElementById("inputUndelivered"),h=a.getElementById("inputClient"),i=a.getElementById("btnSaveBooking"),j=a.getElementById("btnUpdateBooking"),k=a.getElementById("showMessage"),l=a.getElementById("spanNamePerson"),m=a.getElementById("spanDniPerson"),n=a.getElementById("spanAddress"),o=a.getElementById("spanPhone"),p=a.getElementById("spanBrand"),q=a.getElementById("spanModel"),r=a.getElementById("spanColor"),s=a.getElementById("spanPriceByDay"),t=a.getElementById("inputTotalDays"),u=a.getElementById("btnTotalPrice"),v=a.getElementById("inputTotalPrice"),w="",x="",y=I=>{h.addEventListener("change",I.getSelectClient);d.addEventListener("change",I.getSelectCar);i.addEventListener("click",I.addBooking)},z=I=>{I.forEach(J=>{h.innerHTML+="<option value=\""+J.dniPerson+"\">"+J.dniPerson+"</option>"})},A=I=>{I.forEach(J=>{d.innerHTML+="<option value=\""+J.numberPlate+"\">"+J.numberPlate+"</option>"})},B=()=>{w=h.value;return w},C=()=>{x=d.value;return x},D=I=>{p.innerHTML=I.brand;q.innerHTML=I.model;r.innerHTML=I.color;s.innerHTML=I.priceByDay},E=I=>{l.innerHTML=I.namePerson;m.innerHTML=I.dniPerson;n.innerHTML=I.address;o.innerHTML=I.phone},F=()=>{if(b.value==""||c.value==""||e.value==""||p.innerHTML==""||t.value==""||v.value==""||l.innerHTML==""){return!1}else{return!0}},G=()=>{let I={dniPerson:m.innerHTML,namePerson:l.innerHTML,address:n.innerHTML,phone:o.innerHTML,booking:[{idBooking:"-1",date:dsf}]}},H=I=>{k.style.color=COLOR_WARRNIG;k.innerHTML=I};return{init:y,fillSelectClients:z,fillSelectCars:A,setCurrentValueSelectClient:B,setCurrentValueSelectCar:C,showDataCar:D,showDataClient:E,checkInputsEmpty:F,showMessageIncorrect:H,addBooking:G}})(window.document);
window.controller=function(){let a,b=function(l,m,n,o){a=this;a._clientView=l;a._httpService=m;a._personService=n;a._garageService=o;c()},c=()=>{let l=a._httpService.init();a._personService.init(l);a._garageService.init(l);a._clientView.init(a);d()},d=()=>{g()},f=()=>{let l=a._clientView.getDataClient();try{if(l!=!1){if(a._personService.addClient(l)){a._clientView.showMessageCorrect(ADD_CORRECT);g()}else{a._clientView.showMessageIncorrect(PERSON_EXISTS)}}}catch(e){a._clientView.showMessageIncorrect(e.message)}},g=()=>{let l=a._personService.getAllClients();h(l)},h=l=>{a._clientView.showListClients(l);a._clientView.fillSelectEndorsed(l)},i=()=>{a._clientView.setCurrentValueSelect()},j=l=>{let m=a._personService.getClient(l.target.id);a._clientView.showDataClient(m)},k=()=>{try{if(a._personService.updateClient(a._clientView.getDataClient())){a._clientView.showMessageCorrect(MODIFIED_CORRECT);console.log("hola");h(a._personService.getAllClients())}else{a._clientView.showMessageIncorrect(PERSON_NOT_EXISTS)}}catch(e){a._clientView.showMessageIncorrect(e.message)}};return{init:b,showListClients:g,addClient:f,getSelectValue:i,showDataClient:j,updateClient:k}}();
window.view=function(a){let b=a.getElementById("inputDni"),c=a.getElementById("inputName"),d=a.getElementById("inputAddress"),e=a.getElementById("inputPhone"),f=a.getElementById("inputEndorsed"),g=a.getElementById("divClientList"),h=a.getElementById("btnSaveClient"),j=a.getElementById("btnUpdateClient"),k=a.getElementById("btnClean"),l=a.getElementById("inputEndorsed"),m=a.getElementById("showMessage"),n=[],o="",p="",q=function(B){this.controller=B;h.addEventListener("click",B.addClient);j.addEventListener("click",B.updateClient);l.addEventListener("change",B.getSelectValue);k.addEventListener("click",A)},r=B=>{g.innerHTML="";let C=Array.from(B);C.forEach(D=>{g.innerHTML+="<p class ='p-clients col-21' id='"+D.dniPerson+"'>"+D.namePerson+"<span class='status col-offset-11'>"+D.status+"</span></p>"});n=a.getElementsByClassName("p-clients");s()},s=function(){for(let i=0,len=n.length;i<len;++i){n[i].addEventListener("dblclick",this.controller.showDataClient)}},t=B=>{l.innerHTML="";B.forEach(C=>{l.innerHTML+="<option value=\""+C.namePerson+"\">"+C.namePerson+"</option>"})},u=()=>{let B={};if(c.value!=""&&d.value!=""&&e.value!=""){B={dniPerson:b.value,namePerson:c.value,address:d.value,phone:e.value,endorsed:{namePerson:l.value}};return B}else{y(FILL_FIELDS);return!1}},v=B=>{x();d.value=B.address;b.value=B.dniPerson;c.value=B.namePerson;e.value=B.phone;l.value=B.endorsed.namePerson},w=()=>{o=l.value},x=()=>{m.innerHTML=""},y=B=>{m.style.color=COLOR_WARRNIG;m.innerHTML=B},z=B=>{console.log(B);m.style.color=COLOR_PRIMARY;m.innerHTML=B;A()},A=()=>{d.value="";b.value="";c.value="";e.value=""};return{init:q,showListClients:r,fillSelectEndorsed:t,getDataClient:u,setCurrentValueSelect:w,showMessageIncorrect:y,showMessageCorrect:z,showDataClient:v}}(window.document);
const REGEXP_NAME=/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\ ]{2,50}$/,REGEXP_PHONE=/^(\((\+34|0034)\)[6789][0-9]{8}|[6789][0-9]{8})$/,REGEXP_DNI=/^[0-9]{8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/,REGEXP_ADDRESS=/^[a-zA-ZáéíóúÁÉÍÓÚñÑ1234567890\ \/\º\-]{2,50}$/,CLIENTS="clients",GARAGES="garages",EMPLOYEES="employees",INACTIVE="inactivo",ACTIVE="activo",ADD_CORRECT="Customer successfully added",MODIFIED_CORRECT="Customer Modified Correctly",INCORRECT_NAME="*Incorrect name",INCORRECT_PHONE="*Incorrect phone",INCORRECT_DNI="*Incorrect DNI",INCORRECT_ADDRESS="*Incorrect address",FILL_FIELDS="*Please, fill all the fields",COLOR_PRIMARY="#337ab7",COLOR_WARRNIG="red",PERSON_NOT_EXISTS="*This client don't exists in our database, check dni please",PERSON_EXISTS="*This client exists in our database";
let garageService=(()=>{let a=new Map,b=0,c=n=>{a.set(GARAGES,[]);d(n)},d=n=>{e(n[GARAGES])},e=n=>{n.forEach(o=>{o.idGarage=m();o.car.forEach(p=>{p.idCar=m()});a.get(GARAGES).push(new Garage(o))})},f=n=>{let o=j(n),p=a.get(GARAGES)[o.positionGarage];if(!o.foundCar){n.car.idCar=m();p.getCar().add(new Car(n.car));return!0}else{return!1}},g=n=>{let o=j(n),p=a.get(GARAGES)[o.positionGarage];if(o.foundCar){o.car.setNumberPlate(n.car.numberPlate);o.car.setModel(n.car.model);o.car.setColor(n.car.color);o.car.setBrand(n.car.brand);o.car.setPriceByDay(n.car.priceByDay)}},h=n=>{let o=!1,p=j(n),q=a.get(GARAGES)[p.positionGarage];if(p.foundCar){q.getCar().forEach(r=>{if(r.numberPlate==n.car.numberPlate){q.getCar().delete(r);o=!0}})}return o},j=n=>{let o=a.get(GARAGES),p={},q=o.length,i=0,r=!1,s={};while(!r&&i<q){if(n.idGarage==o[i].getIdGarage()){for(let index of o[i].getCar().values()){if(index.numberPlate==n.car.numberPlate){r=!0;p=index;break}}++i}}s={foundCar:r,positionGarage:i-1,car:p};return s},k=()=>{let n=a.get(GARAGES),o=[];n.forEach(p=>{p.car.forEach(q=>{o.push(q)})});return o},l=n=>{let o=a.get(GARAGES),p={};o.forEach(q=>{q.car.forEach(r=>{if(n==r.numberPlate){p=r}})});return p},m=()=>++b;return{init:c,addCar:f,deleteCar:h,getCars:k,updateCar:g,getCar:l}})();
window.controller=(()=>{let a,b=(c,d,e,f)=>{console.log("esto es el home")};return{init:b}})();
window.view=(a=>{function b(c){}return{init:b}})(window.document);
let httpService=(()=>{let a=`{
                 "clients" : [{
                    "idClient": "",
                    "dniPerson": "76885566N",
                    "namePerson": "Juan Corral",
                    "employee": { "idEmployee": 1, "namePerson": "Manuel Triguero", "dniPerson": "87865434F" },
                    "endorsed": { "namePerson": "Cristo Arana", "dniPerson": "64332211T" },
                    "address": "C/ Saxofon nº4",
                    "phone": "675884769",
                    "status": "active",
                    "booking": [{
                        "idBooking": "",
                        "date": "21/01/2017 13:22:00",
                        "bookingDetail": [{
                            "idBookingDetail": "",
                            "dateStart": "05/02/2017 17:00:00",
                            "dateEnd": "07/02/2017 17:00:00",
                            "numberPlate": "6745FKJ",
                            "gasoline": "20 l",
                            "status": "Entregado",
                            "totalPrice": 130
                        }]
                    },{
                        "idBooking": "",
                        "date": "10/12/2016 17:32:00",
                        "bookingDetail": [{
                            "idBookingDetail": "",
                            "dateStart": "13/12/2016 13:00:00",
                            "dateEnd": "14/12/2016 17:00:00",
                            "numberPlate": "8845BBC",
                            "gasoline": "22 l",
                            "status": "Entregado",
                            "totalPrice": 75
                        }]     
                    }]
                 },{
                    "idClient": "",
                    "dniPerson": "64332211T",
                    "namePerson": "Cristo Arana",
                    "employee": { "idEmployee": 2, "namePerson": "Angela Prado", "dniPerson": "53627128P" },
                    "endorsed": { "namePerson": "Juan Corral", "dniPerson": "76885566N" },
                    "address": "C/ Marmoles 33",
                    "phone": "635455443",
                    "status": "inactive",
                    "booking": [{
                        "idBooking": "",
                        "date": "21/09/2016 17:22:00",
                        "bookingDetail": [{
                            "idBookingDetail": "",
                            "dateStart": "05/02/2017 17:00:00",
                            "dateEnd": "07/02/2017 17:00:00",
                            "numberPlate": "6745FKJ",
                            "gasoline": "20 l",
                            "status": "Entregado",
                            "totalPrice": 130
                        }]
                    },{
                        "idBooking": "",
                        "date": "10/12/2016 17:32:00",
                        "bookingDetail": [{
                            "idBookingDetail": "",
                            "dateStart": "13/12/2016 13:00:00",
                            "dateEnd": "14/12/2016 17:00:00",
                            "numberPlate": "8845BBC",
                            "gasoline": "22 l",
                            "status": "Entregado",
                            "totalPrice": 75
                        }]     
                    }]
                 }],
                 "garages" : [{
                     "idGarage": "",
                     "car": [{
                         "idCar": "",
                         "numberPlate": "6745FKJ",
                         "model": "Clio",
                         "color": "Gris",
                         "brand": "Renault",
                         "priceByDay": 65
                     },{
                         "idCar": "",
                         "numberPlate": "8845BBC",
                         "model": "Ibiza",
                         "color": "Blanco",
                         "brand": "Seat",
                         "priceByDay": 65
                     }]
                 }] , 
                 "employees" : [{
                     "idEmployee": "",
                     "dniPerson": "87865434F",
                     "namePerson": "Manuel Triguero",
                     "status": "active"
                 },{
                     "idEmployee": "",
                     "dniPerson": "53627128P",
                     "namePerson": "Angela Prado",
                     "status": "active"
                 },{
                     "idEmployee": "",
                     "dniPerson": "75884768H",
                     "namePerson": "Juan Garrido",
                     "status": "inactive"
                 }]
        }`,b=()=>{let c=JSON.parse(a);return c};return{init:b}})();
let personService=(()=>{let a=new Map,b=0,c=0,d=0,f=0,g=G=>{a.set(CLIENTS,[]);a.set(EMPLOYEES,[]);h(G)},h=G=>{j(G[CLIENTS]);k(G[EMPLOYEES]);return!0},j=G=>{G.forEach(H=>{H.idClient=B();H.booking=F(H.booking);try{a.get(CLIENTS).push(new Client(H))}catch(e){throw e}})},k=G=>{G.forEach(H=>{H.idEmployee=E();a.get(EMPLOYEES).push(new Employee(H))});return!0},l=G=>{if(!s(G.dniPerson).found){G.idClient=B();try{a.get(CLIENTS).push(new Client(G))}catch(e){throw e};return!0}else{return!1}},m=G=>{let H=a.get(CLIENTS),I=s(G.dniPerson);if(I.found){try{H[I.position].setNamePerson(G.namePerson);H[I.position].setAddress(G.address);H[I.position].setPhone(G.phone)}catch(e){throw e};return!0}else return!1},n=G=>{let H=a.get(CLIENTS),I=s(G.dniPerson);G.booking=F(G.booking);if(I.found){H[I.position].getBooking().add(G.booking);return!0}else{a.get(CLIENTS).push(new Client(G));return!1}},o=G=>{let H=a.get(CLIENTS),I=s(G.dniPerson),J=H[I.position].getBooking();p(J,G)},p=(G,H)=>{G.forEach(I=>{if(I.idBooking==H.idBooking){let J=I.bookingDetail;q(J,H.bookingDetail)}})},q=(G,H)=>{G.forEach(I=>{if(I.idBookingDetail==H.idBookingDetail){I.setDateStart(H.dateStart);I.setDateEnd(H.dateEnd);I.setNumberPlate(H.numberPlate);I.setGasoline(H.gasoline);I.setStatus(H.status);I.setTotalPrice(H.totalPrice)}})},r=G=>{if(!t(G.dniPerson).found){G.idEmployee=incrementId();try{a.get(EMPLOYEES).push(new Employee(G))}catch(e){throw e};return!0}else{return!1}},s=G=>{let H=a.get(CLIENTS),I=H.length,i=0,J=!1,K={};while(!J&&i<I){if(H[i].getDniPerson()==G){J=!0}++i}K={found:J,position:i-1};return K},t=G=>{let H=a.get(EMPLOYEES),I=H.length,i=0,J=!1,K={};while(!J&&i<I){H[i].getDniPerson()==G?J=!0:!1;++i}K={found:J,position:i-1};return K},u=G=>{let H=a.get(CLIENTS),I=s(G);if(I.found){if(H[I.position].getStatus()==ACTIVE)H[i].setStatus(INACTIVE);active=!1}return active},v=G=>{let H=a.get(EMPLOYEES),I=t(G);if(I.found){if(employees[I.position].getStatus()==ACTIVE)employees[i].setStatus(INACTIVE);active=!1}return active},w=()=>a.get(CLIENTS),y=G=>{let H=a.get(CLIENTS),I=s(G);if(I.found)return H[I.position];else return!1},z=G=>{let H=a.get(EMPLOYEES),I=t(G);if(I.found)return H[I.position];else return!1},A=()=>Array.from(a.get(EMPLOYEES)),B=()=>++b,C=()=>++c,D=()=>++d,E=()=>++f,F=G=>{for(let i=0,len=G.length;i<len;++i){G[i].idBooking=C();let H=G[i].bookingDetail;for(let x=0,len=H.length;x<len;++x){H[x].idBookingDetail=D()}}return G};return{init:g,addClient:l,inactivateClient:u,getAllClients:w,getClient:y,updateClient:m,addBooking:n,getBookingForUpdate:o,addEmployee:r,getAllEmployess:A,getEmployee:z,inactivateEmployee:v}})();
let spa=function(){'use strict';let l='',m,n={},o='',p=window.document.getElementById('content'),q=['#home','#client','#booking','#car'];window.addEventListener('hashchange',e=>{b(m,e)});function a(){window.onload=e=>{m=new j;if(m.hashArray.length>1&&m.hash!=='#home'||m.hash===''){window.history.pushState(null,'',m.origin+'/#home');k(window);m=''}else{k(window)}}}document.body.addEventListener('click',e=>{let r=e.target;if(r.tagName==='A'&&r.href&&e.button===0){if(r.origin===window.location.origin){e.preventDefault();o=r.href;window.history.pushState('null','',o);m=new j;b(m,e);m=''}}});function b(r,t){let u=r.hash,v={};q.forEach(w=>{v[w]=()=>{c(w)}});v['']=()=>{c('#/home')};if(v[u]){v[u]()}else{h()}}function c(r){let t=r.substring(1);d(t)}function d(r){let t='../templates/'+r+'.html',u='js/'+r+'.view.js',v='js/'+r+'.controller.js';console.log(n);if(!n.hasOwnProperty(r)){Promise.all([ajax({url:t,type:'GET',parse:!1,async:!0}),ajax({url:u,type:'GET',parse:!1,async:!0}),ajax({url:v,type:'GET',parse:!1,async:!0})]).then(([w,x,y])=>{g(w,x,y);n[r]={html:w,viewScript:x,controllerScript:y}}).catch(e=>{console.log(e);g(html,viewScript,controllerScript)})}else{g(n[r].html,n[r].viewScript,n[r].controllerScript)}}function f(){let r=window.location.hash,t=window.document.getElementsByClassName('links'),u=window.document.getElementsByClassName('nav-parents'),v;[].forEach.call(u,w=>{if(w.classList.contains('active'))w.classList.remove('active')});for(let i=0;i<t.length;i++){if(t[i].getAttribute('href')===r)v=t[i]}v.parentElement.classList.add('active')}function g(r,t,u){if(r!=void 0){p.innerHTML=r;var s=document.getElementsByTagName('body')[0],v=document.getElementById('viewScript'),w=document.getElementById('controllerScript');if(v)s.removeChild(v);if(w)s.removeChild(w);var x=s.firstChild,y=document.createElement('script');y.setAttribute('type','text/javascript');y.setAttribute('id','viewScript');y.text=t;s.insertBefore(y,x);var z=document.createElement('script');z.setAttribute('type','text/javascript');z.setAttribute('icontrollerScriptNode','controllerScript');z.text=u;s.insertBefore(z,x);controller.init(view,httpService,personService,garageService);f()}else{h()}}function h(){console.log('Error')}function j(){this.location=window.location;this.origin=this.location.origin;this.href=this.location.href;this.fullHash=this.location.hash;this.hashArray=this.location.hash.split('/');this.hash=this.hashArray[0]}function k(r){let t=document.createEvent('HTMLEvents');t.initEvent('hashchange',!0,!1);r.dispatchEvent(t)}return{init:a}}();
function Booking(a){this.setIdBooking(a.idBooking);this.setDate(a.date);this.bookingDetail=new Set;this.setBookingDetail(a.bookingDetail)}Booking.prototype.getIdBooking=function(){return this.idBooking};Booking.prototype.setIdBooking=function(a){this.idBooking=a};Booking.prototype.getDate=function(){return this.date};Booking.prototype.setDate=function(a){this.date=a};Booking.prototype.getBookingDetail=function(){return this.bookingDetail};Booking.prototype.setBookingDetail=function(a){for(let i=0,len=a.length;i<len;++i){this.bookingDetail.add(new BookingDetail(a[i]))}};Booking.prototype.equals=function(a){return this.idBooking==a.idBooking};
function BookingDetail(a){this.setIdBookingDetail(a.idBookingDetail);this.setDateStart(a.dateStart);this.setDateEnd(a.dateEnd);this.setNumberPlate(a.numberPlate);this.setGasoline(a.gasoline);this.setStatus(a.status);this.setTotalPrice(a.totalPrice)}BookingDetail.prototype.getIdBookingDetail=function(){return this.idBookingDetail};BookingDetail.prototype.setIdBookingDetail=function(a){this.idBookingDetail=a};BookingDetail.prototype.getDateStart=function(){return this.dateStart};BookingDetail.prototype.setDateStart=function(a){this.dateStart=a};BookingDetail.prototype.getDateEnd=function(){return this.dateEnd};BookingDetail.prototype.setDateEnd=function(a){this.dateEnd=a};BookingDetail.prototype.getNumberPlate=function(){return this.numberPlate};BookingDetail.prototype.setNumberPlate=function(a){this.numberPlate=a};BookingDetail.prototype.getGasoline=function(){return this.gasoline};BookingDetail.prototype.setGasoline=function(a){this.gasoline=a};BookingDetail.prototype.getStatus=function(){return this.status};BookingDetail.prototype.setStatus=function(a){this.status=a};BookingDetail.prototype.getTotalPrice=function(){return this.totalPrice};BookingDetail.prototype.setTotalPrice=function(a){this.totalPrice=a};BookingDetail.prototype.equals=function(a){return this.numberPlate==a.numberPlate&&this.dateStart==a.dateStart&&this.dateEnd==a.dateEnd};
function Car(a){this.setIdCar(a.idCar);this.setNumberPlate(a.numberPlate);this.setModel(a.model);this.setColor(a.color);this.setBrand(a.brand);this.setPriceByDay(a.priceByDay)}Car.prototype.getIdCar=function(){return this.idCar};Car.prototype.setIdCar=function(a){this.idCar=a};Car.prototype.getNumberPlate=function(){return this.numberPlate};Car.prototype.setNumberPlate=function(a){this.numberPlate=a};Car.prototype.getModel=function(){return this.model};Car.prototype.setModel=function(a){this.model=a};Car.prototype.getColor=function(){return this.color};Car.prototype.setColor=function(a){this.color=a};Car.prototype.getBrand=function(){return this.brand};Car.prototype.setBrand=function(a){this.brand=a};Car.prototype.getPriceByDay=function(){return this.priceByDay};Car.prototype.setPriceByDay=function(a){this.priceByDay=a};Car.prototype.equals=function(a){return this.numberPlate==a.numberPlate};
function Client(a){this.setIdClient(a.idClient||-1);this.setEmployee(a.employee||{});this.setEndorsed(a.endorsed||{});this.setStatus(a.status||ACTIVE);this.booking=new Set;this.setBooking(a.booking||new Set);try{Person.call(this,a);this.setAddress(a.address);this.setPhone(a.phone)}catch(e){throw e}}Client.prototype=Object.create(Person.prototype);Client.prototype.getIdClient=function(){return this.idClient};Client.prototype.setIdClient=function(a){this.idClient=a};Client.prototype.getAddress=function(){return this.address};Client.prototype.setAddress=function(a){if(REGEXP_ADDRESS.test(a))this.address=a;else throw new RentaCarERROR(INCORRECT_ADDRESS)};Client.prototype.getPhone=function(){return this.phone};Client.prototype.setPhone=function(a){if(REGEXP_PHONE.test(a))this.phone=a;else throw new RentaCarERROR(INCORRECT_PHONE)};Client.prototype.getEndorsed=function(){return this.endorsed};Client.prototype.setEndorsed=function(a){this.endorsed=a};Client.prototype.getEmployee=function(){return this.employee};Client.prototype.setEmployee=function(a){this.employee=a};Client.prototype.getBooking=function(){return this.booking};Client.prototype.setBooking=function(a){for(let i=0,len=a.length;i<len;++i){this.booking.add(new Booking(a[i]))}};Client.prototype.getStatus=function(){return this.status};Client.prototype.setStatus=function(a){return this.status=a};Client.prototype.equals=function(a){return Person.prototype.equals.call(this,a)};Client.prototype.toString=function(){return Person.prototype.toString.call(this)+", Id Employee: "+this.id+", address: "+this.address+", phone: "+this.phone};
function Employee(a){try{Person.call(this,a)}catch(e){throw e}this.setIdEmployee(a.idEmployee||-1)}Employee.prototype=Object.create(Person.prototype);Employee.prototype.getIdEmployee=function(){return this.idEmployee};Employee.prototype.setIdEmployee=function(a){this.idEmployee=a};Employee.prototype.equals=function(a){return Person.prototype.equals.call(this,a)};Employee.prototype.toString=function(){return Person.prototype.toString.call(this)+", id: "+this.idEmployee};
function Garage(a){this.setIdGarage(a.idGarage);this.car=new Set;this.setCar(a.car||new Set)}Garage.prototype.getIdGarage=function(){return this.idGarage};Garage.prototype.setIdGarage=function(a){this.idGarage=a};Garage.prototype.getCar=function(){return this.car};Garage.prototype.setCar=function(a){for(let index in a){this.car.add(new Car(a[index]))}};
function Person(a){try{this.setDniPerson(a.dniPerson);this.setNamePerson(a.namePerson)}catch(e){throw e}}Person.prototype.getNamePerson=function(){return this.namePerson};Person.prototype.setNamePerson=function(a){if(REGEXP_NAME.test(a))this.namePerson=a;else throw new RentaCarERROR(INCORRECT_NAME)};Person.prototype.getDniPerson=function(){return this.dniPerson};Person.prototype.setDniPerson=function(a){if(REGEXP_DNI.test(a))this.dniPerson=a;else throw new RentaCarERROR(INCORRECT_DNI)};Person.prototype.equals=function(a){return this.dniPerson==a.dniPerson};Person.prototype.toString=function(){return", name : "+this.namePerson+", dni : "+this.dniPerson};
function RentaCarERROR(a){this.name='RentaCarERROR';this.message=a||'Default Message'}RentaCarERROR.prototype=Object.create(Error.prototype);RentaCarERROR.prototype.constructor=RentaCarERROR;